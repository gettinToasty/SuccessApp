<h1><%= @user.username %>'s Goals</h1>

<%= link_to "Add Goal", new_goal_url if current_user == @user %>

<ul>
  <% @user.goals.each do |goal| %>
    <% if goal.status == "INCOMPLETE" && (goal.user == current_user || goal.private == "PUBLIC")%>
      <li><%= goal.description %>
        <%= button_to "Mark as Complete", "/goals/#{goal.id}/mark_as_complete", method: :patch if current_user == @user %>
        <%= button_to "Delete Goal", goal_url(goal), method: :delete if current_user == @user %>
      </li>
    <% end %>
  <% end %>
</ul>

<h2>Completed Goals</h2>

<ul>
  <% @user.goals.each do |goal| %>
    <% if goal.status == "COMPLETE" && (goal.user == current_user || goal.private == "PUBLIC")%>
      <li>
        <%= goal.description %>
        <%= button_to "Delete Goal", goal_url(goal), method: :delete if current_user == @user %>
      </li>
    <% end %>
  <% end %>
</ul>
